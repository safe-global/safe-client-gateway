# Auth Service Environment Variables
# Copy this file to .env.auth and fill in the values

# =============================================================================
# REQUIRED
# =============================================================================

# Environment name (development, staging, production)
AUTH_ENV=development

# Authorization token for privileged endpoints
AUTH_TOKEN=

# JWT configuration
JWT_ISSUER=
JWT_SECRET=

# =============================================================================
# AUTH SERVICE
# =============================================================================

# Port for the auth service (default: 3001)
# APPLICATION_PORT=3001

# Authentication nonce TTL in seconds (default: 300)
# AUTH_NONCE_TTL_SECONDS=300

# Maximum validity period for auth tokens in seconds (default: 86400)
# AUTH_VALIDITY_PERIOD_SECONDS=86400

# =============================================================================
# DATABASE 
# =============================================================================

# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=safe-auth-service
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=postgres

# SSL configuration
# POSTGRES_SSL_ENABLED=false
# POSTGRES_SSL_REQUEST_CERT=true
# POSTGRES_SSL_REJECT_UNAUTHORIZED=true
# POSTGRES_SSL_CA_PATH=

# =============================================================================
# REDIS
# =============================================================================

# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_USER=
# REDIS_PASS=

# =============================================================================
# LOGGING
# =============================================================================

# Logging level (error, warn, info, debug, verbose)
# LOG_LEVEL=debug

# Enable colorized pretty-printed logs
# LOG_PRETTY_COLORIZE=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable authentication feature
# FF_AUTH=true

# Enable in-flight request caching (default: true)
# HTTP_CLIENT_CACHE_IN_FLIGHT_REQUESTS=true

# Enable debug logging
# FF_DEBUG_LOGS=false

# =============================================================================
# MIGRATIONS
# =============================================================================

# Enable automatic database migrations on startup
# RUN_MIGRATIONS=true

# DB_MIGRATIONS_EXECUTE=true
# DB_MIGRATIONS_NUMBER_OF_RETRIES=5
# DB_MIGRATIONS_RETRY_AFTER_MS=1000

# =============================================================================
# ORM CACHE
# =============================================================================

# ORM_CACHE_ENABLED=false
# ORM_CACHE_DURATION=1000
# ORM_MIGRATION_TABLE_NAME=_migrations

# =============================================================================
# CIRCUIT BREAKER
# =============================================================================

# CIRCUIT_BREAKER_FAILURE_THRESHOLD=20
# CIRCUIT_BREAKER_SUCCESS_THRESHOLD=10
# CIRCUIT_BREAKER_TIMEOUT=30000
# CIRCUIT_BREAKER_ROLLING_WINDOW=60000
# CIRCUIT_BREAKER_HALF_OPEN_MAX_REQUESTS=10

# =============================================================================
# HTTP CLIENT
# =============================================================================

# HTTP_CLIENT_REQUEST_TIMEOUT_MILLISECONDS=5000

# =============================================================================
# CACHE EXPIRATION
# =============================================================================

# EXPIRATION_DEVIATE_PERCENT=10
# EXPIRATION_TIME_DEFAULT_SECONDS=60
# DEFAULT_NOT_FOUND_EXPIRE_TIME_SECONDS=30

# =============================================================================
# EXPRESS
# =============================================================================

# EXPRESS_JSON_LIMIT=1mb
